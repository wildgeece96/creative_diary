# mysqldで外部ファイルのインポートをする  

前回まででDockerを使ったmysqlのインストールまでは完了した。  
今回はそれを使って外部ファイル(`.sql`ファイル)に記述された命令文を実行する。  

## 手順  
### mysqlの起動  
ホストは127.0.0.1、ポート番号は43306、パスワードはmysqlで使う。   
```zsh
%mysql -h 127.0.0.1 --port 43306 -uroot -pmysql
```

### ファイルの操作を反映させるデータベースを作る

`sample.sql`という名前のファイルをることを考える。  

まずは受け皿となるデータベースを作成する。  

```zsh
mysql>CREATE DATABASE sample;
```

### データベースの切り替え  
使用するデータベースを切り替える  
```zsh
mysql>USE sample;
```
### ファイルの読み込み  
あとはファイルを読み込むだけ。  
カレントディレクトリに外部ファイルを移しておけば以下のコマンドで実行できる。  
ファイルのパスは相対でも絶対でも動く。  
```zsh
mysql> SOURCE sample.sql;
```

### コマンドラインから直接実行する場合  
データベースが作成されている状態で行う  
```zsh
%mysql -u ユーザー名 -h 127.0.0.1 -uroot -p sample < sample.sql
```
でコマンドラインからの実行も可能。  
## まとめ  
外部ファイルの読み込みが比較的簡単にできることがわかった。  

